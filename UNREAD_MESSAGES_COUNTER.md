# ุนุฏุงุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ

## ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ
ุชู ุฅุถุงูุฉ ุนุฏุงุฏ ููุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ ุฃุนูู ูููุฉ "ุฅุฏุงุฑุฉ ุงูุดุงุช" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ูููุญุฉ ุงูุฅุฏุงุฑุฉ.

## ุงููููุฒุงุช ุงููุถุงูุฉ:

### 1. **ุนุฏุงุฏ ูุฑุฆู ููุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ**
- ูุธูุฑ ุจุฌุงูุจ "ุฅุฏุงุฑุฉ ุงูุดุงุช" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
- ููู ุฃุญูุฑ ุฌุฐุงุจ ูุน ุชุฃุซูุฑ pulse
- ูุฎุชูู ุชููุงุฆูุงู ุนูุฏ ุนุฏู ูุฌูุฏ ุฑุณุงุฆู ุบูุฑ ููุฑูุกุฉ

### 2. **ุชุญุฏูุซ ุชููุงุฆู**
- ูุชู ุชุญุฏูุซ ุงูุนุฏุงุฏ ูู 30 ุซุงููุฉ ุชููุงุฆูุงู
- ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
- ุชุญุฏูุซ ููุฑู ุนูุฏ ูุตูู ุฑุณุงุฆู ุฌุฏูุฏุฉ

### 3. **ุชุตููู ุฌุฐุงุจ**
- ุดุงุฑุฉ ุญูุฑุงุก ุตุบูุฑุฉ ูุน ุชุฃุซูุฑ pulse
- ูุชุฌุงูุจ ูุน ุฌููุน ุงูุฃุฌูุฒุฉ
- ูุชูุงุณุจ ูุน ุชุตููู ููุญุฉ ุงูุฅุฏุงุฑุฉ

## ููููุฉ ุงูุนูู:

### **ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ:**
```
๐ฑ ุฅุฏุงุฑุฉ ุงูุดุงุช [3] โ ุงูุนุฏุงุฏ ูุธูุฑ ููุง
```

### **ุนูุฏ ุนุฏู ูุฌูุฏ ุฑุณุงุฆู ุบูุฑ ููุฑูุกุฉ:**
```
๐ฑ ุฅุฏุงุฑุฉ ุงูุดุงุช โ ุจุฏูู ุนุฏุงุฏ
```

## ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ:

### 1. **ุชุญุฏูุซ Layout (admin/layout.blade.php):**
- ุฅุถุงูุฉ PHP code ูุญุณุงุจ ุงูุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ
- ุฅุถุงูุฉ CSS ููุนุฏุงุฏ ูุน ุชุฃุซูุฑ pulse
- ุฅุถุงูุฉ JavaScript ููุชุญุฏูุซ ุงูุชููุงุฆู

### 2. **ุฅุถุงูุฉ Route ุฌุฏูุฏ:**
```php
Route::get('/chat/unread-count', [ChatController::class, 'getUnreadCount'])
```

### 3. **ุฅุถุงูุฉ Method ูู ChatController:**
```php
public function getUnreadCount()
{
    $unreadCount = ChatMessage::where('sender_type', 'visitor')
        ->where('is_read', false)
        ->count();

    return response()->json([
        'success' => true,
        'count' => $unreadCount
    ]);
}
```

## ููููุฉ ุงูุงุฎุชุจุงุฑ:

### 1. **ุฅุฑุณุงู ุฑุณุงูุฉ ูู ุงูุดุงุช:**
- ุงุฐูุจ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- ุฃุฑุณู ุฑุณุงูุฉ ูู ุงูุดุงุช
- ุงูุชุธุฑ ุจุถุน ุซูุงู

### 2. **ุงูุชุญูู ูู ุงูุนุฏุงุฏ:**
- ุงุฐูุจ ุฅูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- ุงูุธุฑ ุฅูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
- ูุฌุจ ุฃู ุชุฑู ุนุฏุงุฏ ุฃุญูุฑ ุจุฌุงูุจ "ุฅุฏุงุฑุฉ ุงูุดุงุช"

### 3. **ูุฑุงุกุฉ ุงูุฑุณุงูุฉ:**
- ุงุถุบุท ุนูู "ุฅุฏุงุฑุฉ ุงูุดุงุช"
- ุงุถุบุท ุนูู "ุนุฑุถ" ูุฃู ุบุฑูุฉ ุดุงุช
- ุงูุนุฏุงุฏ ูุฌุจ ุฃู ูุฎุชูู ุฃู ูููุต

## ุงูููุฏ ุงููุทุจู:

### **HTML Structure:**
```html
<a class="nav-link" href="{{ route('admin.chat.index') }}">
    <i class="bi bi-chat-dots"></i>
    ุฅุฏุงุฑุฉ ุงูุดุงุช
    @if($unreadChatMessages > 0)
        <span class="badge bg-danger ms-2">{{ $unreadChatMessages }}</span>
    @endif
</a>
```

### **CSS Styling:**
```css
.sidebar .nav-link .badge {
    font-size: 0.7rem;
    padding: 4px 6px;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}
```

### **JavaScript Auto-Update:**
```javascript
function updateUnreadMessagesCount() {
    fetch('/admin/chat/unread-count', {
        method: 'GET',
        headers: {
            'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),
            'Content-Type': 'application/json'
        }
    })
    .then(response => response.json())
    .then(data => {
        // ุชุญุฏูุซ ุงูุนุฏุงุฏ
    });
}

// ุชุญุฏูุซ ูู 30 ุซุงููุฉ
setInterval(updateUnreadMessagesCount, 30000);
```

## ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:

### โ **ุนุฏุงุฏ ูุฑุฆู:**
- ูุธูุฑ ุนุฏุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ
- ููู ุฃุญูุฑ ุฌุฐุงุจ
- ุชุฃุซูุฑ pulse ูุฌุฐุจ ุงูุงูุชุจุงู

### โ **ุชุญุฏูุซ ุชููุงุฆู:**
- ูู 30 ุซุงููุฉ
- ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู
- ุชุญุฏูุซ ููุฑู

### โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ:**
- ุงููุฏูุฑ ูุนุฑู ููุฑุงู ุนูุฏ ูุตูู ุฑุณุงุฆู ุฌุฏูุฏุฉ
- ูุง ูููุช ุฃู ุฑุณุงูุฉ
- ุณูููุฉ ูู ุงููุชุงุจุนุฉ

### โ **ุชุตููู ูุชุฌุงูุจ:**
- ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
- ูุชูุงุณุจ ูุน ุชุตููู ุงููููุน
- ุณูู ุงููุฑุงุกุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:

### **ุฅุฐุง ูู ูุธูุฑ ุงูุนุฏุงุฏ:**
1. ุชุญูู ูู Console ูู Developer Tools
2. ุชุฃูุฏ ูู ูุฌูุฏ ุฑุณุงุฆู ุบูุฑ ููุฑูุกุฉ
3. ุชุญูู ูู route `/admin/chat/unread-count`

### **ุฅุฐุง ูู ูุชู ุงูุชุญุฏูุซ:**
1. ุชุญูู ูู JavaScript errors
2. ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
3. ุชุญูู ูู CSRF token

๐ **ุงูุขู ุงููุฏูุฑ ุณูุนุฑู ููุฑุงู ุนูุฏ ูุตูู ุฑุณุงุฆู ุฌุฏูุฏุฉ ูู ุงูุฒูุงุฑ!**
